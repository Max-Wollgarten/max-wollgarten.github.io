<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>{{ page.title }} · {{ site.title }}</title>
    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
    <meta name="color-scheme" content="light dark" />
    <script>
      // Apply saved theme + font-size BEFORE paint to avoid flash
      (function () {
        try {
          var theme = localStorage.getItem("theme");
          var font = localStorage.getItem("fontScale");
          if (theme) document.documentElement.setAttribute("data-theme", theme);
          if (font) document.documentElement.style.setProperty("--font-scale", font);
        } catch (e) {}
      })();
    </script>
  </head>
  <button
    class="control-fab"
    id="uiFab"
    type="button"
    aria-label="Open display settings"
    aria-expanded="false"
    aria-controls="uiPanel"
  >
    ⚙︎
  </button>
  
  <aside class="control-panel" id="uiPanel" aria-hidden="true">
    <div class="panel-header">
      <div class="panel-title">Display</div>
      <button class="panel-close" id="uiClose" type="button" aria-label="Close">
        ✕
      </button>
    </div>
  
    <div class="panel-row">
      <div class="row-label">
        <div class="row-title">Theme</div>
        <div class="row-subtitle">Light / Dark</div>
      </div>
      <button class="toggle" id="themeToggle" type="button" aria-pressed="false">
        <span class="toggle-dot" aria-hidden="true"></span>
        <span class="toggle-text" id="themeLabel">Light</span>
      </button>
    </div>
  
    <div class="panel-row">
      <div class="row-label">
        <div class="row-title">Font size</div>
        <div class="row-subtitle">Adjust reading size</div>
      </div>
      <div class="slider-wrap">
        <input
          id="fontSlider"
          type="range"
          min="0.9"
          max="1.2"
          step="0.01"
          value="1"
          aria-label="Font size"
        />
        <div class="slider-value" id="fontValue">100%</div>
      </div>
    </div>
  
    <div class="panel-row panel-row--small">
      <button class="panel-reset" id="uiReset" type="button">Reset</button>
    </div>
  </aside>
  
  <script src="{{ '/assets/js/site.js' | relative_url }}"></script>
  
  <body>
    <header class="topnav">
      <nav class="nav-inner">
        <a class="nav-item" href="{{ '/' | relative_url }}">Home</a>
        <a class="nav-item" href="{{ '/research/' | relative_url }}">Research</a>
        <a class="nav-item" href="{{ '/publications/' | relative_url }}">Publications</a>
        <a class="nav-item" href="{{ '/cv/' | relative_url }}">CV</a>
      </nav>
    </header>

    <!-- DAS ist "main.content": ein <main> mit class="content" -->
    <main class="content">
      {{ content }}
    </main>

    <footer class="site-footer">
      <div class="footer-inner">
        <strong>Contact:</strong>
        <a href="mailto:you@uni.edu">you@uni.edu</a>
        <span class="sep">·</span>
        <a href="https://github.com/USERNAME">GitHub</a>
        <span class="sep">·</span>
        <a href="https://orcid.org/0000-0000-0000-0000">ORCID</a>
      </div>
    </footer>
  </body>
</html>
